<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Valentine Surprise</title>

<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  text-align:center;
  background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
  background-size: 400% 400%;
  animation: gradient 12s ease infinite;
  color:white;
  overflow-x:hidden;
}

@keyframes gradient {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

.question {
  margin-top:120px;
  font-size:24px;
}

button {
  margin:10px;
  padding:12px 25px;
  font-size:18px;
  border:none;
  border-radius:25px;
  cursor:pointer;
  transition:0.3s;
}

button:hover {
  transform:scale(1.1);
}

.hidden{display:none;}

h1{
  font-size:50px;
  animation: pop 1s ease;
}

@keyframes pop{
  0%{transform:scale(0);}
  100%{transform:scale(1);}
}

.correct {
  background-color: #0F9D58;
  color:white;
  padding:5px 10px;
  border-radius:5px;
  margin-left:10px;
  font-size:16px;
  animation: blink 1s infinite;
}

@keyframes blink{
  0%{opacity:0;}
  50%{opacity:1;}
  100%{opacity:0;}
}
</style>
</head>

<body>

<div id="content" class="question">
üé¨ Analyse romantique en cours...
</div>

<!-- lecteur audio YouTube -->
<iframe id="music" class="hidden" width="0" height="0" src="" allow="autoplay"></iframe>

<script>
let step = 0;

// questions avec r√©ponses
const questions = [
  {
    text:"Question 1 : Quel est notre jeu pr√©f√©r√© ?",
    options:["Mario Kart","Uno","Monopoly","üåµ Cactus"],
    correct:3
  },
  {
    text:"Question 2 : Qui est le plus amoureux ?",
    options:["Toi","Moi","Les deux","L'univers entier"],
    correct:3 // toutes bonnes pour fun
  },
  {
    text:"Question 3 : Probabilit√© que je t'adore ?",
    options:["12%","47%","99%","‚àû"],
    correct:3
  },
  {
    text:"Sous quel drapeau Louise sera aux JO 2026 ?",
    options:["üá´üá∑ FRANCE","üá®üá≠ SUISSE"],
    correct:[0,1] // les deux bonnes
  },
  {
    text:"Alors √âlodie... Veux-tu √™tre ma Valentine ? üíò",
    options:["YES üíñ","NO üòè"],
    correct:0
  }
];

function start(){
  nextQuestion();
}

function nextQuestion(){
  if(step>=questions.length){
    finalScene();
    return;
  }

  const q = questions[step];
  let html = `<div class="question fade">${q.text}<br><br>`;

  q.options.forEach((opt,i)=>{
    html+=`<button onclick="checkAnswer(${i})">${opt}</button>`;
  });

  html+="</div>";

  document.getElementById("content").innerHTML=html;
}

function checkAnswer(i){
  const q = questions[step];
  
  // g√©rer plusieurs bonnes r√©ponses
  let isCorrect=false;
  if(Array.isArray(q.correct)){
    if(q.correct.includes(i)) isCorrect=true;
  } else {
    if(i===q.correct) isCorrect=true;
  }

  if(isCorrect){
    // afficher un petit indicateur correct
    let btns=document.querySelectorAll("button");
    btns[i].innerHTML += `<span class="correct">‚úì</span>`;
    setTimeout(()=>{
      step++;
      nextQuestion();
    },800);
  }else{
    alert("Mauvaise r√©ponse üòè Essaie encore...");
  }
}

// animation finale
function finalScene(){
  document.body.innerHTML=`
  <h1>üíñ Mission Valentine Accept√©e üíñ</h1>
  <p>L‚Äôunivers vient officiellement de s‚Äôaligner.</p>
  <p>Pr√©pare-toi pour quelque chose d‚Äôincroyable.</p>
  <canvas id="confetti"></canvas>
  `;

  // musique YouTube
  const musicLink="https://youtu.be/XoAKZj5JZUY?si=99PB8WvEwcptHqz-";
  document.getElementById("music").src=musicLink;
  document.getElementById("music").classList.remove("hidden");

  startConfetti();
  startHeartbeat();
}

// confettis
function startConfetti(){
  const canvas=document.getElementById("confetti");
  const ctx=canvas.getContext("2d");
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;

  let pieces=[];
  for(let i=0;i<150;i++){
    pieces.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height,
      r:Math.random()*6+2,
      d:Math.random()*150
    });
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="white";
    pieces.forEach(p=>{
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2,true);
      ctx.fill();
      p.y+=2;
      if(p.y>canvas.height){p.y=0;}
    });
    requestAnimationFrame(draw);
  }

  draw();
}

// battement de c≈ìur fond
function startHeartbeat(){
  let scale=1;
  setInterval(()=>{
    document.body.style.transform=`scale(${1+0.02*Math.sin(scale)})`;
    scale+=0.5;
  },100);
}

// lancer intro
setTimeout(start,2000);

</script>
</body>
</html>
