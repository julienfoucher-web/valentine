<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mission Valentine - Hollywood</title>
<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  text-align:center;
  background:white;
  overflow-x:hidden;
}

/* FAUX GOOGLE */
#googlePage{
  margin-top:120px;
}
.logo{
  font-size:70px;
  font-weight:bold;
}
.logo span:nth-child(1){color:#4285F4;}
.logo span:nth-child(2){color:#DB4437;}
.logo span:nth-child(3){color:#F4B400;}
.logo span:nth-child(4){color:#4285F4;}
.logo span:nth-child(5){color:#0F9D58;}
.logo span:nth-child(6){color:#DB4437;}

input{
  width:60%;
  padding:15px;
  font-size:18px;
  margin-top:30px;
}

button{
  padding:12px 25px;
  font-size:18px;
  border:none;
  border-radius:25px;
  cursor:pointer;
  margin:10px;
  transition:0.3s;
}
button:hover{transform:scale(1.1);}
#noBtn{pointer-events:none;} /* NON impossible Ã  cliquer */

/* QUIZ */
#quiz{
  display:none;
  margin-top:50px;
  padding:30px;
  background-image:url('https://images.unsplash.com/photo-1601758173920-1dc676db3c87?auto=format&fit=crop&w=1470&q=80'); /* Mont Blanc + sapins */
  background-size:cover;
  background-position:center;
  border-radius:15px;
  display:inline-block;
  max-width:90%;
  color:white;
  text-shadow:2px 2px 5px black;
}

/* FINAL CINEMA */
#finalScreen{
  display:none;
  position:relative;
  width:100%;
  height:100vh;
  background:black;
  color:white;
  text-align:center;
  overflow:hidden;
}

#confetti{
  position:absolute;
  top:0;
  left:0;
  pointer-events:none;
}

#finalText{
  font-size:50px;
  margin-top:200px;
}

#subText{
  font-size:25px;
  margin-top:20px;
}

#capitalMessage{
  font-size:40px;
  color:red;
  margin:20px;
  text-shadow:2px 2px 5px black;
}
</style>
</head>
<body>

<!-- FAUX GOOGLE -->
<div id="googlePage">
  <div class="logo">
    <span>G</span><span>o</span><span>o</span><span>g</span><span>l</span><span>e</span>
  </div>
  <input type="text" placeholder="Search Google or type a URL">
  <br>
  <button onclick="startQuiz()">Google Search</button>
</div>

<!-- QUIZ -->
<div id="quiz"></div>
<div id="capitalMessage"></div>

<!-- FINAL CINEMA -->
<div id="finalScreen">
  <canvas id="confetti"></canvas>
  <h1 id="finalText"></h1>
  <p id="subText"></p>
</div>

<script>
let step = 0;

// QUESTIONS
const questions = [
  {text:"Quel est notre jeu prÃ©fÃ©rÃ© ?", options:["Mario Kart","Uno","Monopoly","ðŸŒµ Cactus"], correct:3},
  {text:"Quelle est la capitale de Savoie ?", options:["Flumet","Albertville"], correct:0, alwaysShowCorrect:true},
  {text:"Que voit Julien dans les nuages ?", options:["Scorpion ðŸ¦‚","Crocodile ðŸŠ"], correct:0},
  {text:"Quelle est la meilleure des voitures ?", options:["Le Carosse","Ferrari"], correct:1, alwaysShowCorrect:true},
  {text:"Qu'est ce qu'un pickles ?", options:["Un produit dans du vinaigre","Un produit dans de l'huile"], correct:0, alwaysShowCorrect:true},
  {text:"Sous quel drapeau Louise va participer aux Jeux Olympiques ?", options:["France","Suisse"], correct:0, bothCorrect:true},
  {text:"Veux-tu Ãªtre ma Valentine ? ðŸ’˜", options:["YES ðŸ’–","NO ðŸ˜"], correct:0, final:true}
];

function startQuiz(){
  document.getElementById("googlePage").style.display="none";
  document.getElementById("quiz").style.display="block";
  showQuestion();
}

function showQuestion(){
  if(step >= questions.length){ showFinal(); return; }
  const q = questions[step];
  document.getElementById("capitalMessage").innerHTML = "";
  let html = "<h2>"+q.text+"</h2>";
  q.options.forEach((opt,i)=>{
    if(q.final && i===1){
      html += `<button id="noBtn">${opt}</button>`; // NON impossible Ã  cliquer
    } else {
      html += `<button onclick="checkAnswer(${i})">${opt}</button>`;
    }
  });
  document.getElementById("quiz").innerHTML = html;
}

// CHECK ANSWERS
function checkAnswer(i){
  const q = questions[step];

  // QUESTIONS SPECIALES
  if(q.alwaysShowCorrect){
    if(q.text.includes("Ferrari") && i!==q.correct) alert("Câ€™est vrai que Ferrari est la meilleure ! ðŸŽï¸");
    if(q.text.includes("pickles") && i!==q.correct) alert("Câ€™est vrai, un pickles est un produit dans du vinaigre !");
    if(q.text.includes("Savoie")){
      if(i===q.correct){
        document.getElementById("capitalMessage").innerHTML = "Bien sÃ»r ! Flumet est la capitale ðŸ”ï¸";
      } else {
        alert("Non ðŸ˜ La bonne rÃ©ponse est Flumet !");
      }
    }
  }

  if(q.bothCorrect){
    if(i===0) document.body.style.backgroundImage="url('https://upload.wikimedia.org/wikipedia/en/c/c3/Flag_of_France.svg')";
    if(i===1) document.body.style.backgroundImage="url('https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Switzerland.svg')";
    alert("Bonne rÃ©ponse ! ðŸŽŒ");
  }

  if(!q.alwaysShowCorrect && !q.bothCorrect && !q.final && i!==q.correct){
    alert("Mauvaise rÃ©ponse ðŸ˜"); return;
  }

  step++;
  showQuestion();
}

// FINAL CINEMA
function showFinal(){
  document.getElementById("quiz").style.display="none";
  const final = document.getElementById("finalScreen");
  final.style.display="block";

  startConfetti();

  const finalText = "Trop hÃ¢te de passer ce weekend ensemble ðŸ’–";
  const subText = "C'est notre premier Saint Valentin, j'espÃ¨re que de nombreux suivront. Ton Ju qui t'aime â¤ï¸";
  typeText("finalText", finalText, 50, ()=>{ typeText("subText", subText, 40); });

  // YES effet slow motion
  const yesBtn = document.querySelector("button:contains('YES')");
  if(yesBtn){
    yesBtn.style.transition="all 2s ease";
    yesBtn.style.transform="scale(3)";
  }

  // MUSIQUE YOUTUBE
  window.open("https://www.youtube.com/embed/TON_LIEN_YOUTUBE?autoplay=1","_blank");
}

// TYPE TEXTE
function typeText(id,text,speed,callback){
  const el=document.getElementById(id);
  el.innerHTML="";
  let i=0;
  const timer = setInterval(()=>{
    el.innerHTML += text.charAt(i);
    i++;
    if(i>=text.length){ clearInterval(timer); if(callback) callback(); }
  }, speed);
}

// CONFETTIS
function startConfetti(){
  const canvas = document.getElementById("confetti");
  const ctx = canvas.getContext("2d");
  canvas.width=window.innerWidth; canvas.height=window.innerHeight;
  let pieces=[];
  for(let i=0;i<200;i++){
    pieces.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*6+2,d:Math.random()*150});
  }
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="white";
    pieces.forEach(p=>{
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2,true);
      ctx.fill();
      p.y+=2;
      if(p.y>canvas.height)p.y=0;
    });
    requestAnimationFrame(draw);
  }
  draw();
}
</script>
</body>
</html>
